# DailyUse Desktop Application

The **DailyUse Desktop** application is a comprehensive productivity tool built with [Electron](https://www.electronjs.org/), [React](https://reactjs.org/), and [TypeScript](https://www.typescriptlang.org/). It follows a Domain-Driven Design (DDD) architecture and leverages modern web technologies to provide a robust, cross-platform user experience.

## üöÄ Purpose

DailyUse aims to integrate personal productivity management into a single, cohesive interface. It combines:
*   **Goal Management**: Track long-term objectives and key results (OKRs).
*   **Task Management**: Manage daily to-dos, recurring tasks, and dependencies.
*   **Scheduling**: Calendar integration for time-blocking and event management.
*   **Reminders**: Flexible notification system.
*   **AI Assistance**: Integrated AI for content generation and productivity insights.
*   **Offline Sync**: Local-first data architecture with secure cloud synchronization.

## üõ†Ô∏è Tech Stack

*   **Runtime**: Electron (Main & Renderer processes)
*   **Frontend**: React, React Router, Tailwind CSS, shadcn/ui
*   **Language**: TypeScript
*   **Database**: SQLite (via `better-sqlite3`)
*   **Build Tool**: Vite (integrated with Electron)
*   **State Management**: React Hooks, Context API
*   **Communication**: Type-safe IPC (Inter-Process Communication)

## üìÇ Project Structure

The project is structured into three main directories within `src/`:

### 1. `main/` (Electron Main Process)
Handles the application lifecycle, native integrations, and backend logic.
*   `di/`: Dependency Injection configuration and lazy module loading.
*   `ipc/`: System-level IPC handlers.
*   `modules/`: Feature-specific modules (Goal, Task, Account, etc.), each containing:
    *   `application/`: Application services.
    *   `ipc/`: Module-specific IPC handlers.
    *   `initialization/`: Startup tasks.
*   `services/`: Cross-cutting services like Notifications and Sync.
*   `database/`: SQLite initialization and schema management.

### 2. `renderer/` (Electron Renderer Process)
The React-based user interface.
*   `modules/`: Frontend feature modules (matching backend structure).
*   `views/`: Page-level components.
*   `shared/`: Reusable components, hooks, and utilities.
*   `App.tsx`: Root component and routing configuration.

### 3. `preload/` (Preload Script)
Acts as a security bridge between the Main and Renderer processes.
*   `preload.ts`: Exposes a secure, limited API (`window.electronAPI`) to the renderer using `contextBridge`.

### 4. `shared/`
Code shared between processes or specific logic that doesn't fit strictly into main/renderer (e.g., initialization orchestration).

## ‚ö° Setup & Development

### Prerequisites
*   Node.js (v18+)
*   pnpm (recommended)

### Installation
From the root of the monorepo:

```bash
pnpm install
```

### Running in Development Mode
Start the Electron app with hot-reloading:

```bash
pnpm nx run desktop:dev
```
Or if using the root script:
```bash
pnpm dev
```

### Building for Production
Generate the distributable package for your OS:

```bash
pnpm nx run desktop:make
```

## üèóÔ∏è Key Architectural Concepts

### Dependency Injection (DI)
The main process uses a custom DI system (Container pattern) to manage dependencies between repositories and services. Modules are initialized lazily to optimize startup time.

### IPC Communication
Communication between the Renderer and Main processes is handled via a secure, type-safe IPC bridge.
*   **Renderer**: Calls `window.electronAPI.invoke('channel', args)`.
*   **Main**: Handlers are registered using `ipcMain.handle()`.
*   **Registry**: `main/modules/ipc-registry.ts` centralizes handler initialization.

### Offline Sync (EPIC-004)
The app is designed to work offline-first. The `SyncManager` handles data synchronization with the cloud when online, resolving conflicts via a version vector or manual user intervention.

### Performance
*   **Virtual Scrolling**: Large lists use virtual scrolling (`useVirtualList`) to maintain performance.
*   **Lazy Loading**: React components are lazy-loaded at the route level. Main process modules are lazy-loaded on demand.
*   **IPC Cache**: Frequently accessed read-only data is cached in the main process to reduce database hits.

## üìñ Documentation

Detailed documentation for specific modules can be found within the source code files (JSDoc/TSDoc).

---
*Generated by Jules*
