# =============================================================================
# DailyUse 生产环境配置文件示例
# =============================================================================
# 使用说明:
# 1. 复制此文件为 .env（或 .env.prod）
#    cp .env.prod.example .env
# 2. 修改下面所有标记为"必须修改"的配置项
# 3. 启动服务:
#    docker compose -f docker-compose.prod.yml --env-file .env up -d
# 
# ⚠️ 安全提示:
# - 不要将此文件的实际版本（.env）提交到 Git
# - 所有密码/密钥必须使用强随机字符串
# - 生产环境建议使用密钥管理服务（如 AWS Secrets Manager、HashiCorp Vault）
# =============================================================================

# =============================================================================
# 镜像配置
# =============================================================================
# Docker 镜像仓库地址和版本
# 
# 使用 Docker Hub（默认）:
#   REGISTRY=docker.io
#   IMAGE_NAMESPACE=your-namespace
#
# 使用阿里云 ACR (推荐在中国区域使用):
#   REGISTRY=crpi-3po0rmvmxgu205ms.cn-hangzhou.personal.cr.aliyuncs.com
#   IMAGE_NAMESPACE=bakersean
#
REGISTRY=crpi-3po0rmvmxgu205ms.cn-hangzhou.personal.cr.aliyuncs.com
IMAGE_NAMESPACE=bakersean
TAG=v1.0.1

# =============================================================================
# PostgreSQL 数据库配置
# =============================================================================
# 数据库名称
DB_NAME=dailyuse

# 数据库用户名
DB_USER=dailyuse

# 数据库密码（必须修改！生成强密码: openssl rand -base64 32）
DB_PASSWORD=change-me-to-strong-password

# 数据库端口（如果宿主机 5432 已被占用，可改为其他端口如 5433）
DB_PORT=5432

# =============================================================================
# Redis 缓存配置
# =============================================================================
# Redis 密码（必须修改！生成强密码: openssl rand -base64 32）
REDIS_PASSWORD=change-me-to-strong-redis-password

# Redis 端口（如果宿主机 6379 已被占用，可改为其他端口如 6380）
REDIS_PORT=6379

# =============================================================================
# API 后端配置
# =============================================================================
# API 服务监听端口（内网端口，通过 Nginx Proxy Manager 反向代理）
API_PORT=3000

# JWT 密钥（必须修改！生成强密钥: openssl rand -hex 64）
# 用于签发和验证用户登录 Token
JWT_SECRET=change-me-to-strong-jwt-secret-at-least-32-characters

# JWT Token 有效期（默认 7 天）
JWT_EXPIRES_IN=7d

# JWT 刷新 Token 有效期（默认 30 天）
JWT_REFRESH_EXPIRES_IN=30d

# 日志级别: debug | info | warn | error
LOG_LEVEL=info

# CORS 允许的前端域名（必须修改为实际域名！）
# 示例: https://yourdomain.com,https://www.yourdomain.com
# 开发环境可使用 * (不推荐生产环境)
CORS_ORIGIN=https://yourdomain.com

# 文件上传最大大小（字节，默认 10MB）
UPLOAD_MAX_SIZE=10485760

# =============================================================================
# Web 前端配置
# =============================================================================
# Web 服务监听端口（内网端口，通过 Nginx Proxy Manager 反向代理）
# 建议使用 8080 避免与宿主机 80 端口冲突
WEB_PORT=8080

# API 地址（编译时已打包，此处主要用于文档说明）
# 如需运行时配置，需修改前端代码支持 window.env
VITE_API_URL=https://api.yourdomain.com

# =============================================================================
# 邮件服务配置（可选）
# =============================================================================
# 如果应用需要发送邮件（密码重置、通知等），请配置以下参数
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@yourdomain.com
# SMTP_PASS=your-smtp-password
# SMTP_FROM=DailyUse <noreply@yourdomain.com>

# =============================================================================
# 第三方服务配置（可选）
# =============================================================================
# OpenAI API（如果应用使用 AI 功能）
# OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxx
# OPENAI_MODEL=gpt-4
# OPENAI_BASE_URL=https://api.openai.com/v1

# 阿里云 OSS（如果使用云存储）
# ALIYUN_ACCESS_KEY_ID=your-access-key-id
# ALIYUN_ACCESS_KEY_SECRET=your-access-key-secret
# ALIYUN_OSS_BUCKET=your-bucket-name
# ALIYUN_OSS_REGION=oss-cn-hangzhou

# 腾讯云 COS（如果使用云存储）
# TENCENT_SECRET_ID=your-secret-id
# TENCENT_SECRET_KEY=your-secret-key
# TENCENT_COS_BUCKET=your-bucket-name
# TENCENT_COS_REGION=ap-guangzhou

# =============================================================================
# 监控和分析（可选）
# =============================================================================
# Sentry 错误监控
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# Google Analytics
# GA_TRACKING_ID=G-XXXXXXXXXX

# =============================================================================
# 密码生成命令参考
# =============================================================================
# Linux/Mac:
#   openssl rand -base64 32    # 生成 Base64 随机密码
#   openssl rand -hex 64       # 生成 Hex 随机密钥
#
# Windows PowerShell:
#   -join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | % {[char]$_})
#
# 在线生成（仅用于测试，生产环境请本地生成）:
#   https://randomkeygen.com/
# =============================================================================
