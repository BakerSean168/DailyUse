# Feature Spec: 提醒模板

> **功能编号**: REMINDER-004  
> **RICE 评分**: 126 (Reach: 6, Impact: 6, Confidence: 7, Effort: 2)  
> **优先级**: P2  
> **预估时间**: 1 周  
> **状态**: Draft  
> **负责人**: TBD  
> **最后更新**: 2025-10-21

---

## 1. 概述与目标

### 背景与痛点

用户经常需要创建相似的提醒：
- ❌ 每次手动设置重复规则（每周一晨会、每月账单）
- ❌ 复杂场景设置繁琐（吃药提醒、喝水提醒）
- ❌ 新用户不知道如何设置有效提醒
- ❌ 缺少最佳实践参考

### 价值主张

**一句话价值**: 通过提醒模板快速创建常见场景的提醒规则

**核心收益**:
- ✅ 15+ 常见提醒模板（吃药、喝水、健身、账单等）
- ✅ 一键应用并自定义
- ✅ 自定义模板保存
- ✅ 智能推荐

---

## 2. 用户价值与场景

### 核心场景 1: 应用提醒模板

**场景描述**:  
用户使用"喝水提醒"模板快速创建提醒。

**用户故事**:
```gherkin
As a 健康管理用户
I want 使用喝水提醒模板
So that 每天定时提醒喝水
```

**操作流程**:
1. 用户点击"创建提醒" → "从模板创建"
2. 显示模板列表：
   ```
   ⏰ 提醒模板库
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   
   🔥 热门模板
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   
   💊 吃药提醒
   └─ 每天 3 次，饭后 30 分钟
   ⭐ 892 次使用
   [使用]
   
   💧 喝水提醒
   └─ 工作时间每 2 小时提醒
   ⭐ 1,124 次使用
   [使用]
   
   🏃 健身打卡
   └─ 每周一/三/五 18:00
   ⭐ 658 次使用
   [使用]
   
   💰 账单提醒
   └─ 每月 25 号提前 3 天
   ⭐ 523 次使用
   [使用]
   
   [查看全部 15 个模板...]
   ```

3. 用户点击"喝水提醒" → "使用"
4. 显示模板配置页：
   ```
   💧 喝水提醒
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   
   📝 提醒内容
   标题: 该喝水啦 💧
   描述: 保持水分，保持健康！
   
   ⏰ 时间设置
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   
   重复规则: 每天
   时间范围: 09:00 - 18:00
   间隔: [2] 小时
   
   具体时间（自动计算）:
   • 09:00
   • 11:00
   • 13:00
   • 15:00
   • 17:00
   
   生效日期:
   ⚪ 仅工作日（周一到周五）
   🔘 每天（包括周末）
   
   📱 提醒方式
   ☑️ 应用内通知
   ☑️ 桌面通知
   ☐ 邮件提醒
   
   [创建提醒] [自定义更多]
   ```

5. 用户调整间隔为 1.5 小时
6. 点击"创建提醒"
7. 成功创建，自动生成 7 个定时提醒

**预期结果**:
- 快速创建复杂提醒
- 支持自定义调整
- 自动计算具体时间

---

### 核心场景 2: 创建自定义模板

**场景描述**:  
用户将常用提醒保存为模板。

**用户故事**:
```gherkin
As a 用户
I want 保存常用提醒为模板
So that 下次快速创建
```

**操作流程**:
1. 用户创建了"团队站会提醒"（每工作日 9:30）
2. 点击"另存为模板"
3. 弹出保存界面：
   ```
   💾 保存为模板
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   
   模板名称: 团队站会提醒
   
   分类: [工作 ▼]
   
   可见范围:
   🔘 仅自己
   ⚪ 团队成员
   
   [保存] [取消]
   ```

4. 用户选择"团队成员"，保存
5. 模板可供团队其他成员使用

**预期结果**:
- 个人知识沉淀
- 团队最佳实践共享

---

### 核心场景 3: 智能推荐模板

**场景描述**:  
系统根据用户行为推荐合适的模板。

**用户故事**:
```gherkin
As a 用户
I want 获得模板推荐
So that 发现有用的提醒场景
```

**操作流程**:
1. 系统检测到用户经常在 9:00 创建提醒
2. 在创建提醒页面显示推荐：
   ```
   💡 为你推荐
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   
   🌅 晨间习惯提醒
   └─ 每天 7:00-9:00，3 个习惯打卡
   推荐理由: 你经常在早晨创建提醒
   [使用模板]
   
   💊 吃药提醒
   └─ 每天 3 次定时提醒
   推荐理由: 与你的健康类任务相关
   [使用模板]
   ```

**预期结果**:
- 个性化推荐
- 提高模板发现率

---

### 核心场景 4: 场景化模板组合

**场景描述**:  
用户一次性应用多个相关模板（如"健康生活套装"）。

**用户故事**:
```gherkin
As a 健康管理用户
I want 使用健康生活模板组合
So that 一次性设置多个健康提醒
```

**操作流程**:
1. 用户选择"健康生活套装"
2. 显示包含的模板：
   ```
   🎁 健康生活套装
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   
   包含 5 个提醒模板：
   
   ✅ 💧 喝水提醒（每 2 小时）
   ✅ 🏃 健身打卡（每周 3 次）
   ✅ 😴 睡眠提醒（22:00 提醒准备睡觉）
   ✅ 🧘 冥想提醒（每天 7:00）
   ✅ 🥗 健康饮食（三餐提醒）
   
   [全部应用] [自选]
   ```

3. 用户点击"全部应用"
4. 一次性创建 5 组提醒

**预期结果**:
- 场景化组合
- 批量创建
- 提升用户体验

---

## 3. 设计要点

### 内置模板列表

| 模板名称 | 重复规则 | 使用场景 |
|---------|---------|---------|
| 💊 吃药提醒 | 每天 3 次（饭后） | 健康管理 |
| 💧 喝水提醒 | 每 2 小时 | 健康管理 |
| 🏃 健身打卡 | 每周一/三/五 | 运动健身 |
| 😴 睡眠提醒 | 每晚 22:00 | 作息管理 |
| 🌅 晨间习惯 | 每天 7:00-9:00 | 习惯养成 |
| 📅 会议提前提醒 | 会议前 15 分钟 | 工作效率 |
| 💰 账单提醒 | 每月 25 号 | 财务管理 |
| 🎂 生日提醒 | 提前 7 天 | 人际关系 |
| 📚 学习打卡 | 每天 20:00 | 学习成长 |
| 🧹 清洁日 | 每周六 | 生活管理 |

---

### Contracts

#### 新增实体：ReminderTemplate

```typescript
export interface ReminderTemplateServerDTO {
  readonly uuid: string;
  readonly name: string;
  readonly category: 'health' | 'work' | 'life' | 'finance';
  readonly icon: string;
  
  // 模板内容
  readonly title: string;
  readonly description?: string;
  readonly recurrenceRule: RecurrenceRule;
  readonly notificationChannels: NotificationChannel[];
  
  readonly usageCount: number;
  readonly createdBy: string;
  readonly visibility: 'private' | 'team' | 'public';
  readonly createdAt: number;
}
```

---

## 4. MVP 范围

### MVP（1 周）

- ✅ 15 个内置模板
- ✅ 应用模板创建提醒
- ✅ 模板参数自定义
- ✅ 模板搜索

### Full（后续）

- ✅ 自定义模板
- ✅ 模板组合
- ✅ 智能推荐
- ✅ 团队模板共享

---

## 5. 验收标准（Gherkin）

```gherkin
Feature: 提醒模板

  Scenario: 应用喝水提醒模板
    Given 用户在模板库
    When 选择"喝水提醒"模板
    And 设置间隔为 2 小时
    And 点击"创建提醒"
    Then 应创建 5 个定时提醒（9:00, 11:00, 13:00, 15:00, 17:00）
```

---

## 6. 成功指标

| 指标 | 目标值 |
|------|-------|
| 模板使用率 | >30% 提醒来自模板 |
| 模板创建成功率 | >85% |
| 用户满意度 | >4.0/5.0 |

---

**文档状态**: ✅ Ready for Review  
**下一步**: Schedule 时间热力图

