# ä»“å‚¨æ¨¡å— - å‰ç«¯äº¤äº’ä¸ UX è®¾è®¡

> **æ–‡æ¡£ç±»å‹**: BA éœ€æ±‚æ–‡æ¡£
> **ä½œè€…**: BA - Business Analyst
> **æ—¥æœŸ**: 2025-11-09
> **ç‰ˆæœ¬**: v1.0
> **é¡¹ç›®**: DailyUse - Repository Module (Obsidian-inspired)

---

## ğŸ¯ æ–‡æ¡£ç›®æ ‡

æœ¬æ–‡æ¡£å®šä¹‰ä»“å‚¨æ¨¡å—çš„å‰ç«¯ç”¨æˆ·ä½“éªŒè®¾è®¡ï¼ŒåŒ…æ‹¬ï¼š

1. é¡µé¢å¸ƒå±€ä¸å¯¼èˆªç»“æ„
2. æ ¸å¿ƒ UI ç»„ä»¶è®¾è®¡
3. ç”¨æˆ·äº¤äº’æµç¨‹
4. Obsidian é£æ ¼å‚è€ƒ
5. æŠ€æœ¯å®ç°å»ºè®®

---

## ğŸ—ï¸ æ•´ä½“å¸ƒå±€æ¶æ„

### Obsidian é£æ ¼ä¸‰æ å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¡¶éƒ¨å·¥å…·æ  (TopBar)                                         â”‚
â”‚  [ä»“å‚¨é€‰æ‹©å™¨] [æœç´¢æ¡†] [æ–°å»º] [è®¾ç½®]                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                              â”‚                   â”‚
â”‚  å·¦ä¾§è¾¹æ  â”‚      ä¸­å¤®ç¼–è¾‘åŒº               â”‚    å³ä¾§è¾¹æ         â”‚
â”‚  (ä¾§å®½:  â”‚     (ä¸»å†…å®¹åŒº)                â”‚   (å¯æ”¶èµ·)        â”‚
â”‚  250px)  â”‚                              â”‚   (å®½: 300px)     â”‚
â”‚          â”‚                              â”‚                   â”‚
â”‚ æ–‡ä»¶æ ‘   â”‚  [Tabæ : ç¬”è®°1 | ç¬”è®°2 | ...]  â”‚  å¤§çº² (Outline)   â”‚
â”‚ (æ ‘å½¢)   â”‚                              â”‚  åå‘é“¾æ¥         â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  (Backlinks)     â”‚
â”‚  ğŸ“ å‰ç«¯  â”‚  â”‚  # Vue3 ç»„åˆå¼ API   â”‚    â”‚  æ ‡ç­¾äº‘          â”‚
â”‚    ğŸ“„ ç¬”è®°â”‚  â”‚                      â”‚    â”‚  çŸ¥è¯†å›¾è°±        â”‚
â”‚    ğŸ“„ ä»£ç â”‚  â”‚  å†…å®¹ç¼–è¾‘åŒº...       â”‚    â”‚  (å¯è§†åŒ–)        â”‚
â”‚  ğŸ“ åç«¯  â”‚  â”‚                      â”‚    â”‚  ç‰ˆæœ¬å†å²        â”‚
â”‚    ...   â”‚  â”‚  (Tiptap ç¼–è¾‘å™¨)     â”‚    â”‚                   â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                   â”‚
â”‚          â”‚                              â”‚                   â”‚
â”‚  [æ–°å»º]  â”‚  åº•éƒ¨çŠ¶æ€æ : å­—æ•° | ä¿å­˜çŠ¶æ€  â”‚  [æ”¶èµ·/å±•å¼€]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å“åº”å¼è®¾è®¡

| å±å¹•å®½åº¦ | å¸ƒå±€è°ƒæ•´ |
|---------|---------|
| > 1600px | å®Œæ•´ä¸‰æ å¸ƒå±€ |
| 1200-1600px | å·¦ä¾§æ  200pxï¼Œå³ä¾§æ å¯æŠ˜å  |
| 768-1200px | ä»…æ˜¾ç¤ºå·¦ä¾§æ  + ä¸­å¤®åŒºï¼Œå³ä¾§æ éšè— |
| < 768px | ç§»åŠ¨ç«¯ï¼šåº•éƒ¨å¯¼èˆªæ ï¼Œå…¨å±ç¼–è¾‘ |

---

## 1ï¸âƒ£ å·¦ä¾§è¾¹æ  - æ–‡ä»¶èµ„æºç®¡ç†å™¨

### 1.1 æ–‡ä»¶æ ‘ç»„ä»¶ (FileExplorer)

**æŠ€æœ¯é€‰å‹**: Vuetify 3 çš„ `v-treeview` + è‡ªå®šä¹‰æ ·å¼

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… æ–‡ä»¶å¤¹å±•å¼€/æŠ˜å ï¼ˆè®°ä½çŠ¶æ€ï¼‰
- âœ… æ‹–æ‹½ç§»åŠ¨æ–‡ä»¶/æ–‡ä»¶å¤¹
- âœ… å³é”®èœå•ï¼ˆæ–°å»ºã€é‡å‘½åã€åˆ é™¤ã€ç§»åŠ¨ï¼‰
- âœ… æ–‡ä»¶å›¾æ ‡ï¼ˆæ ¹æ®ç±»å‹æ˜¾ç¤º emoji æˆ–å›¾æ ‡ï¼‰
- âœ… å¿«æ·é”®æ”¯æŒï¼ˆN=æ–°å»ºï¼ŒR=é‡å‘½åï¼ŒDel=åˆ é™¤ï¼‰

**äº¤äº’è®¾è®¡**:

```vue
<template>
  <v-navigation-drawer permanent width="250">
    <!-- å·¥å…·æ  -->
    <v-toolbar density="compact">
      <v-toolbar-title>æ–‡ä»¶èµ„æºç®¡ç†å™¨</v-toolbar-title>
      <v-spacer />
      <v-btn icon size="small" @click="createNewNote">
        <v-icon>mdi-plus</v-icon>
      </v-btn>
    </v-toolbar>

    <!-- æ–‡ä»¶æ ‘ -->
    <v-treeview
      v-model:opened="openedFolders"
      :items="folderTree"
      item-value="uuid"
      activatable
      open-on-click
      density="compact"
      class="file-tree"
    >
      <template #prepend="{ item }">
        <v-icon v-if="item.type === 'folder'">
          {{ item.expanded ? 'mdi-folder-open' : 'mdi-folder' }}
        </v-icon>
        <span v-else>{{ getFileIcon(item.type) }}</span>
      </template>

      <template #label="{ item }">
        <div class="tree-item" @contextmenu.prevent="showContextMenu($event, item)">
          <span>{{ item.name }}</span>
          <span v-if="item.type === 'folder'" class="item-count">
            {{ item.resourceCount }}
          </span>
        </div>
      </template>
    </v-treeview>

    <!-- å³é”®èœå• -->
    <v-menu v-model="contextMenuVisible" :position-x="contextMenuX" :position-y="contextMenuY">
      <v-list density="compact">
        <v-list-item @click="createNote">æ–°å»ºç¬”è®°</v-list-item>
        <v-list-item @click="createFolder">æ–°å»ºæ–‡ä»¶å¤¹</v-list-item>
        <v-divider />
        <v-list-item @click="rename">é‡å‘½å</v-list-item>
        <v-list-item @click="move">ç§»åŠ¨åˆ°...</v-list-item>
        <v-divider />
        <v-list-item @click="deleteItem" color="error">åˆ é™¤</v-list-item>
      </v-list>
    </v-menu>
  </v-navigation-drawer>
</template>
```

**æ‹–æ‹½å®ç°**:
- ä½¿ç”¨ `@vueuse/core` çš„ `useDraggable` å’Œ `useDropzone`
- æ‹–æ‹½æ—¶æ˜¾ç¤ºåŠé€æ˜ ghost æ•ˆæœ
- æ‹–æ‹½åˆ°æ–‡ä»¶å¤¹ä¸Šæ—¶é«˜äº®æ˜¾ç¤ºå¯æ”¾ç½®åŒºåŸŸ

---

### 1.2 æ–‡ä»¶å¤¹å…ƒæ•°æ®æ˜¾ç¤º

**è®¾è®¡å…ƒç´ **:
- æ–‡ä»¶å¤¹å›¾æ ‡ï¼ˆå¯è‡ªå®šä¹‰ emojiï¼‰
- æ–‡ä»¶å¤¹é¢œè‰²æ ‡ç­¾
- èµ„æºæ•°é‡å¾½ç« 
- æŠ˜å /å±•å¼€åŠ¨ç”»

**ç¤ºä¾‹**:
```
ğŸ“ å‰ç«¯ç¬”è®° (12)      â† æ–‡ä»¶å¤¹å + èµ„æºæ•°é‡
  ğŸ“„ Vue3 åŸºç¡€.md
  ğŸ“„ React Hooks.md
  ğŸ“ TypeScript (5)   â† åµŒå¥—æ–‡ä»¶å¤¹
    ğŸ“„ ç±»å‹ç³»ç»Ÿ.md
```

---

## 2ï¸âƒ£ ä¸­å¤®ç¼–è¾‘åŒº - å¤šæ ‡ç­¾é¡µç¼–è¾‘å™¨

### 2.1 Tab æ è®¾è®¡

**åŠŸèƒ½éœ€æ±‚**:
- âœ… å¤šæ ‡ç­¾é¡µï¼ˆæ”¯æŒå›ºå®šæ ‡ç­¾ï¼‰
- âœ… æ‹–æ‹½æ’åºæ ‡ç­¾
- âœ… ä¸­é”®ç‚¹å‡»å…³é—­
- âœ… æœªä¿å­˜çŠ¶æ€æç¤ºï¼ˆæ ‡é¢˜åæ˜¾ç¤º `*`ï¼‰
- âœ… æœ€è¿‘æ‰“å¼€å†å²ï¼ˆCtrl+P å¿«é€Ÿåˆ‡æ¢ï¼‰

**äº¤äº’å®ç°**:

```vue
<template>
  <div class="editor-tabs">
    <!-- Tab æ  -->
    <v-tabs v-model="activeTab" show-arrows>
      <v-tab
        v-for="tab in openTabs"
        :key="tab.uuid"
        :value="tab.uuid"
        @auxclick.middle="closeTab(tab.uuid)"
      >
        <v-icon v-if="tab.isPinned" size="small" class="mr-1">mdi-pin</v-icon>
        <span>{{ tab.name }}</span>
        <span v-if="tab.isDirty" class="unsaved-indicator">*</span>
        <v-btn
          icon
          size="x-small"
          variant="text"
          class="ml-2"
          @click.stop="closeTab(tab.uuid)"
        >
          <v-icon size="small">mdi-close</v-icon>
        </v-btn>
      </v-tab>
    </v-tabs>

    <!-- ç¼–è¾‘å™¨å†…å®¹åŒº -->
    <v-window v-model="activeTab" class="editor-window">
      <v-window-item
        v-for="tab in openTabs"
        :key="tab.uuid"
        :value="tab.uuid"
      >
        <ResourceEditor
          :resource="tab.resource"
          @update="handleContentUpdate"
        />
      </v-window-item>
    </v-window>
  </div>
</template>
```

---

### 2.2 Markdown ç¼–è¾‘å™¨ (Milkdown é›†æˆ)

**æŠ€æœ¯é€‰å‹**: Milkdownï¼ˆä¸“æ³¨äº Markdown çš„ç¼–è¾‘å™¨æ¡†æ¶ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… æ‰€è§å³æ‰€å¾— (WYSIWYG) æ¨¡å¼
- âœ… Markdown æºç æ¨¡å¼åˆ‡æ¢
- âœ… å®æ—¶é¢„è§ˆï¼ˆåˆ†å±æˆ–å…¨å±ï¼‰
- âœ… `[[]]` åŒå‘é“¾æ¥è¯­æ³•æ”¯æŒï¼ˆè‡ªåŠ¨è¡¥å…¨ï¼‰
- âœ… ä»£ç å—é«˜äº®ï¼ˆPrism æ’ä»¶ï¼‰
- âœ… å›¾ç‰‡/è§†é¢‘æ‹–æ‹½ä¸Šä¼ 
- âœ… æ•°å­¦å…¬å¼ (KaTeX)
- âœ… è¡¨æ ¼ã€ä»»åŠ¡åˆ—è¡¨ã€Callout

**Milkdown åŸºç¡€é…ç½®**:

```typescript
// ç¼–è¾‘å™¨åˆå§‹åŒ–
import { Editor, rootCtx } from '@milkdown/core';
import { commonmark } from '@milkdown/preset-commonmark';
import { listener, listenerCtx } from '@milkdown/plugin-listener';
import { history } from '@milkdown/plugin-history';
import { cursor } from '@milkdown/plugin-cursor';
import { prism } from '@milkdown/plugin-prism';

const editor = Editor.make()
  .config((ctx) => {
    ctx.set(rootCtx, editorContainer.value);
    
    // ç›‘å¬å†…å®¹å˜åŒ–
    ctx.get(listenerCtx).markdownUpdated((ctx, markdown) => {
      emit('update:content', markdown);
    });
  })
  .use(commonmark)      // åŸºç¡€ Markdown
  .use(listener)        // äº‹ä»¶ç›‘å¬
  .use(history)         // æ’¤é”€/é‡åš
  .use(cursor)          // å…‰æ ‡ç®¡ç†
  .use(prism)           // ä»£ç é«˜äº®
  .use(bidirectionalLinkPlugin);  // åŒå‘é“¾æ¥
```

**åŒå‘é“¾æ¥æ’ä»¶å®ç°**:

```typescript
// è‡ªå®šä¹‰åŒå‘é“¾æ¥æ’ä»¶
import { $node, $inputRule } from '@milkdown/utils';

const bidirectionalLinkPlugin = $node('bidirectionalLink', () => ({
  group: 'inline',
  inline: true,
  atom: true,
  
  attrs: {
    title: { default: '' },
    href: { default: '' },
  },
  
  parseDOM: [
    {
      tag: 'a[data-type="bidirectional-link"]',
      getAttrs: (dom) => ({
        title: dom.getAttribute('data-title'),
        href: dom.getAttribute('href'),
      }),
    },
  ],
  
  toDOM: (node) => [
    'a',
    {
      'data-type': 'bidirectional-link',
      'data-title': node.attrs.title,
      href: node.attrs.href,
      class: 'wiki-link',
    },
    node.attrs.title,
  ],
  
  parseMarkdown: {
    match: (node) => node.type === 'bidirectionalLink',
    runner: (state, node, type) => {
      state.addNode(type, { title: node.title, href: node.href });
    },
  },
  
  toMarkdown: {
    match: (node) => node.type.name === 'bidirectionalLink',
    runner: (state, node) => {
      state.addNode('text', undefined, `[[${node.attrs.title}]]`);
    },
  },
}));

// è¾“å…¥è§„åˆ™ï¼šæ£€æµ‹ [[ è§¦å‘è‡ªåŠ¨è¡¥å…¨
const bidirectionalLinkInputRule = $inputRule((ctx) => ({
  rule: /\[\[([^\]]+)?$/,
  handler: ({ state, match }) => {
    const keyword = match[1] || '';
    // è§¦å‘èµ„æºæœç´¢è‡ªåŠ¨è¡¥å…¨é¢æ¿
    showAutocomplete(keyword);
    return true;
  },
}));
```

**è‡ªåŠ¨è¡¥å…¨é¢æ¿ UI**:

```vue
<template>
  <v-menu
    v-model="autocompleteVisible"
    :position-x="autocompleteX"
    :position-y="autocompleteY"
    :close-on-content-click="false"
  >
    <v-list density="compact" max-height="300">
      <v-list-subheader>æœç´¢èµ„æºï¼ˆ{{ filteredResources.length }}ï¼‰</v-list-subheader>
      <v-list-item
        v-for="resource in filteredResources"
        :key="resource.uuid"
        @click="insertLink(resource)"
      >
        <template #prepend>
          <span class="mr-2">{{ getFileIcon(resource.type) }}</span>
        </template>
        <v-list-item-title>{{ resource.name }}</v-list-item-title>
        <v-list-item-subtitle>{{ resource.path }}</v-list-item-subtitle>
      </v-list-item>
    </v-list>
  </v-menu>
</template>
```

---

### 2.3 ç¼–è¾‘å™¨å·¥å…·æ 

**æµ®åŠ¨å·¥å…·æ **ï¼ˆé€‰ä¸­æ–‡æœ¬æ—¶å‡ºç°ï¼‰:
```
[ B ] [ I ] [ U ] [ Code ] [ Link ] [ Highlight ]
```

**é¡¶éƒ¨èœå•æ **:
```
æ ¼å¼ | æ’å…¥ | è§†å›¾ | å·¥å…·
  â†“      â†“      â†“      â†“
 æ ‡é¢˜   å›¾ç‰‡   é¢„è§ˆ   æœç´¢
 åˆ—è¡¨   è¡¨æ ¼   å¤§çº²   æ›¿æ¢
 å¼•ç”¨   ä»£ç å— æºç    å­—æ•°ç»Ÿè®¡
```

---

## 3ï¸âƒ£ å³ä¾§è¾¹æ  - è¾…åŠ©é¢æ¿

### 3.1 å¤§çº²è§†å›¾ (Outline)

**åŠŸèƒ½**: è‡ªåŠ¨æå– Markdown æ ‡é¢˜ï¼Œç”Ÿæˆå¯ç‚¹å‡»ç›®å½•

```vue
<template>
  <v-expansion-panels>
    <v-expansion-panel value="outline">
      <v-expansion-panel-title>
        <v-icon class="mr-2">mdi-format-list-bulleted</v-icon>
        å¤§çº²
      </v-expansion-panel-title>
      <v-expansion-panel-text>
        <v-list density="compact">
          <v-list-item
            v-for="heading in outline"
            :key="heading.id"
            :style="{ paddingLeft: `${heading.level * 12}px` }"
            @click="scrollToHeading(heading.id)"
          >
            {{ heading.text }}
          </v-list-item>
        </v-list>
      </v-expansion-panel-text>
    </v-expansion-panel>
  </v-expansion-panels>
</template>
```

---

### 3.2 åå‘é“¾æ¥ (Backlinks)

**åŠŸèƒ½**: æ˜¾ç¤ºæ‰€æœ‰é“¾æ¥åˆ°å½“å‰ç¬”è®°çš„å…¶ä»–ç¬”è®°

```vue
<template>
  <v-expansion-panel value="backlinks">
    <v-expansion-panel-title>
      <v-icon class="mr-2">mdi-link-variant</v-icon>
      åå‘é“¾æ¥ ({{ backlinks.length }})
    </v-expansion-panel-title>
    <v-expansion-panel-text>
      <v-list density="compact">
        <v-list-item
          v-for="link in backlinks"
          :key="link.uuid"
          @click="openResource(link.sourceResource.uuid)"
        >
          <template #prepend>
            <v-icon size="small">mdi-file-document-outline</v-icon>
          </template>
          <v-list-item-title>{{ link.sourceResource.name }}</v-list-item-title>
          <v-list-item-subtitle class="link-context">
            ...{{ link.contextSnippet }}...
          </v-list-item-subtitle>
        </v-list-item>
      </v-list>
    </v-expansion-panel-text>
  </v-expansion-panel>
</template>
```

**ä¸Šä¸‹æ–‡ç‰‡æ®µæ˜¾ç¤º**:
```
Vue3 å“åº”å¼ç³»ç»Ÿ
  ...æœ¬æ–‡å‚è€ƒäº† [[Vue3 ç»„åˆå¼ API]] çš„è®¾è®¡æ€æƒ³...
            ^^^^^^^^^^^^^^^^^^^
            (å½“å‰ç¬”è®°è¢«å¼•ç”¨)
```

---

### 3.3 çŸ¥è¯†å›¾è°±å¯è§†åŒ–

**æŠ€æœ¯é€‰å‹**: Cytoscape.js æˆ– D3.js

```vue
<template>
  <v-expansion-panel value="graph">
    <v-expansion-panel-title>
      <v-icon class="mr-2">mdi-graph-outline</v-icon>
      çŸ¥è¯†å›¾è°±
    </v-expansion-panel-title>
    <v-expansion-panel-text>
      <!-- å›¾è°±å®¹å™¨ -->
      <div ref="graphContainer" class="graph-view" style="height: 400px;">
        <!-- Cytoscape æ¸²æŸ“ -->
      </div>

      <!-- æ§åˆ¶æŒ‰é’® -->
      <v-btn-group density="compact" class="mt-2">
        <v-btn size="small" @click="zoomIn">
          <v-icon>mdi-magnify-plus</v-icon>
        </v-btn>
        <v-btn size="small" @click="zoomOut">
          <v-icon>mdi-magnify-minus</v-icon>
        </v-btn>
        <v-btn size="small" @click="resetView">
          <v-icon>mdi-fit-to-screen</v-icon>
        </v-btn>
        <v-btn size="small" @click="openFullscreenGraph">
          <v-icon>mdi-fullscreen</v-icon>
        </v-btn>
      </v-btn-group>
    </v-expansion-panel-text>
  </v-expansion-panel>
</template>

<script setup lang="ts">
import cytoscape from 'cytoscape';

const initGraph = () => {
  const cy = cytoscape({
    container: graphContainer.value,
    elements: graphData.value,
    style: [
      {
        selector: 'node',
        style: {
          'background-color': '#4CAF50',
          'label': 'data(label)',
          'width': 40,
          'height': 40,
        }
      },
      {
        selector: 'edge',
        style: {
          'width': 2,
          'line-color': '#90A4AE',
          'target-arrow-color': '#90A4AE',
          'target-arrow-shape': 'triangle',
          'curve-style': 'bezier'
        }
      }
    ],
    layout: { name: 'cose' }  // åŠ›å¯¼å‘å¸ƒå±€
  });

  // ç‚¹å‡»èŠ‚ç‚¹è·³è½¬
  cy.on('tap', 'node', (evt) => {
    const node = evt.target;
    openResource(node.data('id'));
  });
};
</script>
```

---

### 3.4 ç‰ˆæœ¬å†å²

**åŠŸèƒ½**: æ˜¾ç¤ºå½“å‰ç¬”è®°çš„ç‰ˆæœ¬åˆ—è¡¨ï¼Œæ”¯æŒå¯¹æ¯”å’Œæ¢å¤

```vue
<template>
  <v-expansion-panel value="versions">
    <v-expansion-panel-title>
      <v-icon class="mr-2">mdi-history</v-icon>
      ç‰ˆæœ¬å†å² ({{ versions.length }})
    </v-expansion-panel-title>
    <v-expansion-panel-text>
      <v-timeline density="compact" side="end">
        <v-timeline-item
          v-for="version in versions"
          :key="version.uuid"
          :dot-color="getVersionColor(version.changeType)"
          size="small"
        >
          <template #opposite>
            <span class="version-time">{{ formatTime(version.createdAt) }}</span>
          </template>
          <v-card density="compact">
            <v-card-text>
              <div class="version-header">
                <v-chip :color="getVersionColor(version.changeType)" size="small">
                  {{ version.changeType }}
                </v-chip>
                <span class="ml-2">v{{ version.versionNumber }}</span>
              </div>
              <p class="text-caption mt-1">{{ version.changeDescription }}</p>
              <v-btn-group density="compact" class="mt-2">
                <v-btn size="x-small" @click="compareVersion(version)">å¯¹æ¯”</v-btn>
                <v-btn size="x-small" @click="restoreVersion(version)">æ¢å¤</v-btn>
              </v-btn-group>
            </v-card-text>
          </v-card>
        </v-timeline-item>
      </v-timeline>
    </v-expansion-panel-text>
  </v-expansion-panel>
</template>
```

---

## 4ï¸âƒ£ é¡¶éƒ¨å·¥å…·æ 

### 4.1 ä»“å‚¨é€‰æ‹©å™¨

```vue
<template>
  <v-select
    v-model="currentRepository"
    :items="repositories"
    item-title="name"
    item-value="uuid"
    density="compact"
    style="max-width: 200px"
    prepend-inner-icon="mdi-database"
  >
    <template #item="{ item, props }">
      <v-list-item v-bind="props">
        <template #prepend>
          <v-icon>{{ getRepositoryIcon(item.type) }}</v-icon>
        </template>
      </v-list-item>
    </template>
  </v-select>
</template>
```

---

### 4.2 å…¨å±€æœç´¢æ¡†

**åŠŸèƒ½**: æ”¯æŒå…¨æ–‡æœç´¢ã€æ ‡ç­¾ç­›é€‰ã€æ¨¡ç³ŠåŒ¹é…

```vue
<template>
  <v-text-field
    v-model="searchQuery"
    prepend-inner-icon="mdi-magnify"
    placeholder="æœç´¢ç¬”è®°... (Ctrl+K)"
    density="compact"
    hide-details
    clearable
    @keydown.enter="performSearch"
  >
    <template #append>
      <v-btn icon size="small" @click="showAdvancedSearch">
        <v-icon>mdi-tune</v-icon>
      </v-btn>
    </template>
  </v-text-field>

  <!-- æœç´¢ç»“æœé¢æ¿ -->
  <v-dialog v-model="searchResultsVisible" max-width="800">
    <v-card>
      <v-card-title>æœç´¢ç»“æœ ({{ searchResults.length }})</v-card-title>
      <v-card-text>
        <v-list>
          <v-list-item
            v-for="result in searchResults"
            :key="result.resource.uuid"
            @click="openResource(result.resource.uuid)"
          >
            <template #prepend>
              <v-avatar color="primary" size="small">
                {{ result.score.toFixed(2) }}
              </v-avatar>
            </template>
            <v-list-item-title>{{ result.resource.name }}</v-list-item-title>
            <v-list-item-subtitle>
              <div v-for="highlight in result.highlights" :key="highlight" v-html="highlight" />
            </v-list-item-subtitle>
          </v-list-item>
        </v-list>
      </v-card-text>
    </v-card>
  </v-dialog>
</template>
```

---

## 5ï¸âƒ£ å¯¹è¯æ¡†ä¸æ¨¡æ€çª—å£

### 5.1 æ–°å»ºç¬”è®°å¯¹è¯æ¡†

```vue
<template>
  <v-dialog v-model="createNoteVisible" max-width="500">
    <v-card>
      <v-card-title>æ–°å»ºç¬”è®°</v-card-title>
      <v-card-text>
        <v-form ref="form">
          <v-text-field
            v-model="newNote.name"
            label="ç¬”è®°åç§°"
            :rules="[rules.required]"
            autofocus
          />
          <v-select
            v-model="newNote.folderUuid"
            :items="folders"
            item-title="name"
            item-value="uuid"
            label="æ‰€å±æ–‡ä»¶å¤¹"
          />
          <v-combobox
            v-model="newNote.tags"
            :items="existingTags"
            label="æ ‡ç­¾"
            multiple
            chips
            closable-chips
          />
          <v-textarea
            v-model="newNote.description"
            label="æè¿°ï¼ˆå¯é€‰ï¼‰"
            rows="2"
          />
        </v-form>
      </v-card-text>
      <v-card-actions>
        <v-spacer />
        <v-btn @click="createNoteVisible = false">å–æ¶ˆ</v-btn>
        <v-btn color="primary" @click="createNote">åˆ›å»º</v-btn>
      </v-card-actions>
    </v-card>
  </v-dialog>
</template>
```

---

### 5.2 ç‰ˆæœ¬å¯¹æ¯”å¯¹è¯æ¡†

**åŠŸèƒ½**: å·¦å³åˆ†å±æ˜¾ç¤º Diff

```vue
<template>
  <v-dialog v-model="diffVisible" fullscreen>
    <v-card>
      <v-toolbar density="compact">
        <v-toolbar-title>
          ç‰ˆæœ¬å¯¹æ¯”: v{{ version1.versionNumber }} â†” v{{ version2.versionNumber }}
        </v-toolbar-title>
        <v-spacer />
        <v-btn icon @click="diffVisible = false">
          <v-icon>mdi-close</v-icon>
        </v-btn>
      </v-toolbar>
      <v-card-text class="diff-container">
        <div class="diff-view" v-html="diffHtml" />
      </v-card-text>
    </v-card>
  </v-dialog>
</template>

<style scoped>
.diff-view :deep(.added) {
  background-color: #e6ffec;
  color: #22863a;
}
.diff-view :deep(.deleted) {
  background-color: #ffeef0;
  color: #cb2431;
}
</style>
```

---

## 6ï¸âƒ£ å¿«æ·é”®æ”¯æŒ

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+N` | æ–°å»ºç¬”è®° |
| `Ctrl+K` | å…¨å±€æœç´¢ |
| `Ctrl+P` | å¿«é€Ÿåˆ‡æ¢æ ‡ç­¾é¡µ |
| `Ctrl+S` | ä¿å­˜å½“å‰ç¬”è®° |
| `Ctrl+W` | å…³é—­å½“å‰æ ‡ç­¾é¡µ |
| `Ctrl+Shift+F` | æ–‡ä»¶å¤¹å†…æœç´¢ |
| `Ctrl+B` | åˆ‡æ¢å·¦ä¾§è¾¹æ  |
| `Ctrl+\` | åˆ‡æ¢å³ä¾§è¾¹æ  |
| `Ctrl+E` | åˆ‡æ¢ç¼–è¾‘/é¢„è§ˆæ¨¡å¼ |
| `[[` | è§¦å‘é“¾æ¥è‡ªåŠ¨è¡¥å…¨ |

---

## ğŸ“Š å‰ç«¯æŠ€æœ¯æ ˆæ€»ç»“

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| **Vue 3** | æ ¸å¿ƒæ¡†æ¶ |
| **Vuetify 3** | UI ç»„ä»¶åº“ |
| **Milkdown** | Markdown ç¼–è¾‘å™¨ï¼ˆä¸“æ³¨äº Markdown çš„ç¼–è¾‘æ¡†æ¶ï¼‰ |
| **Cytoscape.js** | çŸ¥è¯†å›¾è°±å¯è§†åŒ– |
| **Prism** | ä»£ç é«˜äº®ï¼ˆMilkdown æ’ä»¶ï¼‰ |
| **KaTeX** | æ•°å­¦å…¬å¼æ¸²æŸ“ |
| **diff2html** | ç‰ˆæœ¬å¯¹æ¯”å¯è§†åŒ– |
| **@vueuse/core** | å·¥å…·å‡½æ•°åº“ï¼ˆæ‹–æ‹½ã€å¿«æ·é”®ç­‰ï¼‰ |
| **Pinia** | çŠ¶æ€ç®¡ç† |

---

## ğŸ“ æ€»ç»“

### æ ¸å¿ƒ UI ç»„ä»¶æ¸…å•

| ç»„ä»¶ | æ–‡ä»¶è·¯å¾„ | ä¼˜å…ˆçº§ |
|------|---------|--------|
| FileExplorer | `components/FileExplorer.vue` | P0 |
| ResourceEditor | `components/ResourceEditor.vue` | P0 |
| BacklinksPanel | `components/BacklinksPanel.vue` | P1 |
| OutlinePanel | `components/OutlinePanel.vue` | P1 |
| VersionHistory | `components/VersionHistory.vue` | P1 |
| KnowledgeGraphView | `components/KnowledgeGraphView.vue` | P2 |
| SearchDialog | `components/SearchDialog.vue` | P2 |
| VersionDiffDialog | `components/VersionDiffDialog.vue` | P2 |

### ä¸‹ä¸€æ­¥

1. âœ… æ•°æ®åº“æ¶æ„è®¾è®¡
2. âœ… é¢†åŸŸæ¨¡å‹è®¾è®¡
3. âœ… åº”ç”¨æœåŠ¡æ¥å£è®¾è®¡
4. âœ… RESTful API è®¾è®¡
5. âœ… å‰ç«¯äº¤äº’è®¾è®¡ï¼ˆæœ¬æ–‡æ¡£ï¼‰
6. â­ï¸ å®ç°å¼€å‘ï¼ˆå‚è€ƒ README.md ä¸­çš„å®æ–½è·¯çº¿å›¾ï¼‰

---

**æ–‡æ¡£ä½œè€…**: BA - Business Analyst  
**å®¡æ ¸äººå‘˜**: PM - John  
**æœ€åæ›´æ–°**: 2025-11-09
