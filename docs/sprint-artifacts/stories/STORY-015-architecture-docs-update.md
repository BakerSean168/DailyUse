# STORY-015: æ¶æ„æ–‡æ¡£æ›´æ–° - åŒ…ä½¿ç”¨è§„èŒƒ

## ğŸ“‹ Story æ¦‚è¿°

**Story ID**: STORY-015  
**Epic**: EPIC-002 (Desktop Application Development)  
**ä¼˜å…ˆçº§**: P3 (æ–‡æ¡£)  
**é¢„ä¼°å·¥æ—¶**: 1 å¤©  
**çŠ¶æ€**: âœ… Completed  
**å‰ç½®ä¾èµ–**: STORY-001 âœ…, STORY-002 âœ…, STORY-003 âœ…  
**å®Œæˆæ—¥æœŸ**: 2025-12-07

---

## ğŸ¯ ç”¨æˆ·æ•…äº‹

**ä½œä¸º** æ–°åŠ å…¥çš„å¼€å‘è€…  
**æˆ‘å¸Œæœ›** æœ‰æ¸…æ™°çš„æ–‡æ¡£è¯´æ˜å„ä¸ªå…±äº«åŒ…çš„ä½¿ç”¨åœºæ™¯å’Œè§„èŒƒ  
**ä»¥ä¾¿äº** å¿«é€Ÿç†è§£é¡¹ç›®æ¶æ„å¹¶æ­£ç¡®ä½¿ç”¨å…±äº«åŒ…  

---

## ğŸ“‹ éªŒæ”¶æ ‡å‡†

### æ–‡æ¡£éªŒæ”¶

- [x] åˆ›å»ºåŒ…ä½¿ç”¨è§„èŒƒæ–‡æ¡£ (`docs/architecture/package-usage.md`)
- [x] æ›´æ–° `system-overview.md` æ·»åŠ åŒ…æ¶æ„å›¾
- [x] åˆ›å»º Desktop åº”ç”¨æ¶æ„æ–‡æ¡£ (`docs/architecture/desktop-architecture.md`)
- [x] æ–‡æ¡£åŒ…å«æ¸…æ™°çš„ä»£ç ç¤ºä¾‹
- [x] æ–‡æ¡£åŒ…å«å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

---

## ğŸ“ æ–‡æ¡£ç»“æ„

### 1. åŒ…ä½¿ç”¨è§„èŒƒ (`package-usage.md`)

```markdown
# å…±äº«åŒ…ä½¿ç”¨è§„èŒƒ

## åŒ…æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    @dailyuse åŒ…ç”Ÿæ€                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  contracts  â”‚    â”‚    utils    â”‚    â”‚   assets    â”‚      â”‚
â”‚  â”‚  (ç±»å‹/DTO) â”‚    â”‚  (å·¥å…·å‡½æ•°) â”‚    â”‚  (é™æ€èµ„æº) â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â”‚         â–¼                  â–¼                  â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              å¯è¢«ä»»ä½•å±‚çº§ä½¿ç”¨çš„åŸºç¡€åŒ…                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   domain-client    â”‚    â”‚   domain-server    â”‚           â”‚
â”‚  â”‚   (å®¢æˆ·ç«¯é¢†åŸŸ)      â”‚    â”‚   (æœåŠ¡ç«¯é¢†åŸŸ)      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚            â”‚                         â”‚                       â”‚
â”‚            â–¼                         â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ application-client â”‚    â”‚ application-server â”‚           â”‚
â”‚  â”‚   (å®¢æˆ·ç«¯ç”¨ä¾‹)      â”‚    â”‚   (æœåŠ¡ç«¯ç”¨ä¾‹)      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚            â”‚                         â”‚                       â”‚
â”‚            â–¼                         â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚infrastructure-clientâ”‚   â”‚infrastructure-serverâ”‚          â”‚
â”‚  â”‚  (å®¢æˆ·ç«¯é€‚é…å™¨)      â”‚    â”‚  (æœåŠ¡ç«¯é€‚é…å™¨)     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä½¿ç”¨åœºæ™¯

| åŒ…å | é€‚ç”¨åœºæ™¯ | ç¦æ­¢åœºæ™¯ |
|------|---------|---------|
| `@dailyuse/contracts` | ä»»ä½•éœ€è¦ç±»å‹å®šä¹‰çš„åœ°æ–¹ | æ—  |
| `@dailyuse/infrastructure-client` | æ¸²æŸ“è¿›ç¨‹ (Browser/Renderer) | ä¸»è¿›ç¨‹ |
| `@dailyuse/infrastructure-server` | ä¸»è¿›ç¨‹/API æœåŠ¡å™¨ | æ¸²æŸ“è¿›ç¨‹ |
| `@dailyuse/domain-server` | ä¸»è¿›ç¨‹ Repository å®ç° | æ¸²æŸ“è¿›ç¨‹ |

## æ­£ç¡®ç¤ºä¾‹

### æ¸²æŸ“è¿›ç¨‹ (React/Vue)

```typescript
// âœ… æ­£ç¡®
import { GoalContainer } from '@dailyuse/infrastructure-client';
import type { GoalClientDTO } from '@dailyuse/contracts/goal';

// âŒ é”™è¯¯ - ä¸è¦åœ¨æ¸²æŸ“è¿›ç¨‹ä½¿ç”¨ server åŒ…
import { GoalContainer } from '@dailyuse/infrastructure-server'; // é”™è¯¯!
```

### ä¸»è¿›ç¨‹ (Electron Main)

```typescript
// âœ… æ­£ç¡®
import { GoalContainer } from '@dailyuse/infrastructure-server';
import type { IGoalRepository } from '@dailyuse/domain-server/goal';

// âŒ é”™è¯¯ - ä¸è¦åœ¨ä¸»è¿›ç¨‹ä½¿ç”¨ client åŒ…
import { GoalContainer } from '@dailyuse/infrastructure-client'; // é”™è¯¯!
```
```

### 2. Desktop æ¶æ„æ–‡æ¡£ (`desktop-architecture.md`)

å†…å®¹å¤§çº²:
- Electron æ¶æ„ (Main/Renderer/Preload)
- DI é…ç½®æµç¨‹
- IPC é€šä¿¡æœºåˆ¶
- æ•°æ®æŒä¹…åŒ– (SQLite)
- åŸç”ŸåŠŸèƒ½é›†æˆ

### 3. ç³»ç»Ÿæ¦‚è§ˆæ›´æ–° (`system-overview.md`)

æ·»åŠ å†…å®¹:
- Desktop åº”ç”¨åœ¨æ•´ä½“æ¶æ„ä¸­çš„ä½ç½®
- åŒ…ä¾èµ–å…³ç³»å›¾
- æ•°æ®æµå›¾

---

## ğŸ“ Task åˆ†è§£

### Task 15.1: åˆ›å»ºåŒ…ä½¿ç”¨è§„èŒƒæ–‡æ¡£

**å·¥æ—¶**: 0.5 å¤©

**è¾“å‡º**:
- `docs/architecture/package-usage.md`

**å†…å®¹**:
- åŒ…æ¶æ„æ¦‚è§ˆå›¾
- æ¯ä¸ªåŒ…çš„ä½¿ç”¨åœºæ™¯
- æ­£ç¡®/é”™è¯¯ç¤ºä¾‹
- Container ä½¿ç”¨æ¨¡å¼
- å¸¸è§é”™è¯¯ FAQ

### Task 15.2: åˆ›å»º Desktop æ¶æ„æ–‡æ¡£

**å·¥æ—¶**: 0.5 å¤©

**è¾“å‡º**:
- `docs/architecture/desktop-architecture.md`

**å†…å®¹**:
- Electron è¿›ç¨‹æ¶æ„
- DI é…ç½®è¯¦è§£
- IPC é€šé“æ¸…å•
- SQLite Repository æ¶æ„
- åŸç”ŸåŠŸèƒ½æ¨¡å—

### Task 15.3: æ›´æ–°ç³»ç»Ÿæ¦‚è§ˆ

**å·¥æ—¶**: 0.25 å¤©

**è¾“å‡º**:
- æ›´æ–° `docs/architecture/system-overview.md`

**å†…å®¹**:
- æ·»åŠ  Desktop åº”ç”¨èŠ‚ç‚¹
- æ›´æ–°æ¶æ„å›¾
- æ·»åŠ åŒ…ä¾èµ–å…³ç³»

### Task 15.4: åˆ›å»ºå¼€å‘æŒ‡å—

**å·¥æ—¶**: 0.25 å¤©

**è¾“å‡º**:
- `docs/guides/desktop-development.md`

**å†…å®¹**:
- å¼€å‘ç¯å¢ƒè®¾ç½®
- å¸¸ç”¨å‘½ä»¤
- è°ƒè¯•æŠ€å·§
- æ‰“åŒ…å‘å¸ƒ

---

## ğŸ“š å‚è€ƒèµ„æ–™

- ç°æœ‰æ¶æ„æ–‡æ¡£: `docs/architecture/`
- åŒ…æ–‡æ¡£: `docs/packages-*.md`
- é¡¹ç›® README

---

## âœ… å®Œæˆå®šä¹‰ (DoD)

- [x] æ‰€æœ‰æ–‡æ¡£åˆ›å»º/æ›´æ–°å®Œæˆ
- [x] æ–‡æ¡£æ ¼å¼ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [x] ä»£ç ç¤ºä¾‹å¯è¿è¡Œ
- [ ] å›¢é˜Ÿ Review é€šè¿‡
- [ ] PR åˆå¹¶

---

## ğŸ“ å®ç°è®°å½•

### åˆ›å»ºçš„æ–‡æ¡£

1. **`docs/architecture/package-usage.md`** - åŒ…ä½¿ç”¨è§„èŒƒ
   - åŒ…æ¶æ„æ¦‚è§ˆå›¾
   - åŒ…æ¸…å•ä¸ç”¨é€”è¡¨
   - ä½¿ç”¨åœºæ™¯çŸ©é˜µ
   - ä»£ç ç¤ºä¾‹ï¼ˆæ¸²æŸ“è¿›ç¨‹/ä¸»è¿›ç¨‹ï¼‰
   - Container ä½¿ç”¨æ¨¡å¼
   - æ¨¡å—å¯¼å…¥è§„èŒƒ
   - å¸¸è§é”™è¯¯ FAQ

2. **`docs/architecture/desktop-architecture.md`** - Desktop åº”ç”¨æ¶æ„
   - æ¶æ„æ¦‚è§ˆå›¾
   - ç›®å½•ç»“æ„è¯´æ˜
   - IPC é€šä¿¡æœºåˆ¶
   - ä¾èµ–æ³¨å…¥é…ç½®
   - SQLite Repository å®ç°
   - IPC é€šé“æ¸…å•
   - å¼€å‘å‘½ä»¤

### æ›´æ–°çš„æ–‡æ¡£

1. **`docs/architecture/system-overview.md`**
   - æ·»åŠ åŒ…ä¾èµ–å…³ç³»å›¾
   - æ·»åŠ åŒ…ä½¿ç”¨è§„åˆ™è¡¨
   - æ·»åŠ  Desktop åº”ç”¨æ¶æ„æ‘˜è¦
   - æ·»åŠ ç›¸å…³æ–‡æ¡£é“¾æ¥

---

**åˆ›å»ºæ—¥æœŸ**: 2025-12-07  
**å®Œæˆæ—¥æœŸ**: 2025-12-07  
**è´Ÿè´£äºº**: Dev Agent  
**æ¥æº**: EPIC-002 PR Review å»ºè®®
