# STORY-036: æ™ºèƒ½ä¼‘æ¯æé†’

## ğŸ“‹ Story æ¦‚è¿°

**Story ID**: STORY-036  
**Epic**: EPIC-007 (Pomodoro & Focus Mode)  
**ä¼˜å…ˆçº§**: P3 (ä½“éªŒå¢å¼º)  
**é¢„ä¼°å·¥æ—¶**: 1 å¤©  
**çŠ¶æ€**: ğŸ“‹ Ready for Dev  
**å‰ç½®ä¾èµ–**: STORY-032 âœ… (Pomodoro Timer)

---

## ğŸ¯ ç”¨æˆ·æ•…äº‹

**ä½œä¸º** é•¿æ—¶é—´åœ¨ç”µè„‘å‰å·¥ä½œçš„ DailyUse ç”¨æˆ·  
**æˆ‘å¸Œæœ›** ç³»ç»Ÿèƒ½æ™ºèƒ½æé†’æˆ‘å®šæœŸä¼‘æ¯ã€æ´»åŠ¨èº«ä½“ã€ä¿æŠ¤è§†åŠ›  
**ä»¥ä¾¿äº** ä¿æŒå¥åº·çš„å·¥ä½œä¹ æƒ¯ï¼Œé¿å…ä¹…åå’Œç”¨çœ¼ç–²åŠ³

---

## ğŸ“‹ éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶ - 20-20-20 æŠ¤çœ¼è§„åˆ™

- [ ] æ¯å·¥ä½œ 20 åˆ†é’Ÿæé†’çœ‹å‘ 20 è‹±å°ºï¼ˆ6 ç±³ï¼‰å¤– 20 ç§’
- [ ] æé†’æ—¶æ˜¾ç¤ºå€’è®¡æ—¶å’ŒæŠ¤çœ¼å»ºè®®
- [ ] å¯æš‚åœ/è·³è¿‡å•æ¬¡æé†’
- [ ] å¯è‡ªå®šä¹‰æé†’é—´éš”ï¼ˆ15-30 åˆ†é’Ÿï¼‰

### åŠŸèƒ½éªŒæ”¶ - ç«™ç«‹/æ‹‰ä¼¸æé†’

- [ ] æ¯ 60 åˆ†é’Ÿæé†’ç«™ç«‹æ´»åŠ¨ 5 åˆ†é’Ÿ
- [ ] æä¾›ç®€å•æ‹‰ä¼¸åŠ¨ä½œæŒ‡å¯¼ï¼ˆå›¾æ–‡ï¼‰
- [ ] æä¾›åŠå…¬å®¤æ‹‰ä¼¸åŠ¨ä½œåº“ï¼ˆé¢ˆéƒ¨ã€è‚©éƒ¨ã€è…°éƒ¨ã€è…¿éƒ¨ï¼‰
- [ ] å¯è‡ªå®šä¹‰æé†’é—´éš”ï¼ˆ45-90 åˆ†é’Ÿï¼‰
- [ ] å¯é€‰æ‹©æé†’å¼ºåº¦ï¼ˆæ¸©å’Œ/æ ‡å‡†/ä¸¥æ ¼ï¼‰

### åŠŸèƒ½éªŒæ”¶ - é¥®æ°´æé†’

- [ ] æ¯ 30 åˆ†é’Ÿæé†’è¡¥å……æ°´åˆ†
- [ ] è®°å½•æ¯æ—¥é¥®æ°´é‡ï¼ˆæ¯æ•°æˆ–æ¯«å‡ï¼‰
- [ ] æ˜¾ç¤ºæ¯æ—¥é¥®æ°´ç›®æ ‡è¿›åº¦
- [ ] å¯è‡ªå®šä¹‰æé†’é—´éš”å’Œå•æ¬¡æ°´é‡
- [ ] æ”¯æŒä¸€é”®è®°å½•å–æ°´

### åŠŸèƒ½éªŒæ”¶ - æ™ºèƒ½æé†’

- [ ] ä¸“æ³¨å·¥ä½œæ—¶ä¸æ‰“æ–­ï¼ˆç•ªèŒ„é’Ÿè¿›è¡Œä¸­æ—¶å»¶åæé†’ï¼‰
- [ ] æ ¹æ®ç”¨æˆ·å†å²ä¹ æƒ¯è°ƒæ•´æé†’æ—¶æœº
- [ ] ä¼šè®®/æ¼”ç¤ºæ¨¡å¼è‡ªåŠ¨æš‚åœæé†’
- [ ] æé†’ä¼˜å…ˆçº§ï¼šæŠ¤çœ¼ > ç«™ç«‹ > é¥®æ°´

### åŠŸèƒ½éªŒæ”¶ - æé†’è®¾ç½®

- [ ] å…¨å±€å¼€å…³ï¼šå¯ç”¨/ç¦ç”¨æ‰€æœ‰æé†’
- [ ] å•é¡¹å¼€å…³ï¼šæŠ¤çœ¼/ç«™ç«‹/é¥®æ°´ç‹¬ç«‹æ§åˆ¶
- [ ] å…æ‰“æ‰°æ—¶æ®µè®¾ç½®ï¼ˆå¦‚åˆä¼‘ã€ä¼šè®®æ—¶é—´ï¼‰
- [ ] æé†’æ–¹å¼ï¼šç³»ç»Ÿé€šçŸ¥/åº”ç”¨å†…å¼¹çª—/å£°éŸ³æé†’
- [ ] æ¯æ—¥ç»Ÿè®¡ï¼šæŸ¥çœ‹å®Œæˆçš„ä¼‘æ¯æ¬¡æ•°

### æŠ€æœ¯éªŒæ”¶

- [ ] æé†’å®šæ—¶ç²¾åº¦ Â±10 ç§’
- [ ] åå°è¿è¡Œæ—¶æ­£å¸¸æé†’
- [ ] ç³»ç»Ÿé”å±/ç¡çœ æ—¶æš‚åœè®¡æ—¶
- [ ] å†…å­˜å ç”¨å¢åŠ  < 5MB

---

## ğŸ”§ æŠ€æœ¯æ–¹æ¡ˆ

### æ•°æ®æ¨¡å‹

```typescript
// packages/domain-client/src/health/
interface RestReminder {
  id: string;
  type: 'eye' | 'stretch' | 'water';
  enabled: boolean;
  interval: number;              // æé†’é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  duration: number;              // ä¼‘æ¯æ—¶é•¿ï¼ˆç§’ï¼‰
  lastTriggeredAt?: Date;
  nextTriggerAt?: Date;
}

interface ReminderSettings {
  globalEnabled: boolean;
  eyeCareEnabled: boolean;
  eyeCareInterval: number;       // é»˜è®¤ 20 åˆ†é’Ÿ
  eyeCareDuration: number;       // é»˜è®¤ 20 ç§’
  
  stretchEnabled: boolean;
  stretchInterval: number;       // é»˜è®¤ 60 åˆ†é’Ÿ
  stretchDuration: number;       // é»˜è®¤ 5 åˆ†é’Ÿ
  stretchIntensity: 'gentle' | 'standard' | 'strict';
  
  waterEnabled: boolean;
  waterInterval: number;         // é»˜è®¤ 30 åˆ†é’Ÿ
  waterAmount: number;           // é»˜è®¤ 200ml
  dailyWaterGoal: number;        // é»˜è®¤ 2000ml
  
  notificationType: 'system' | 'inApp' | 'both';
  soundEnabled: boolean;
  doNotDisturbPeriods: TimeRange[];  // å…æ‰“æ‰°æ—¶æ®µ
  pauseDuringPomodoro: boolean;      // ç•ªèŒ„é’Ÿè¿›è¡Œä¸­æš‚åœ
}

interface RestRecord {
  id: string;
  type: 'eye' | 'stretch' | 'water';
  triggeredAt: Date;
  completed: boolean;
  skipped: boolean;
  duration?: number;             // å®é™…ä¼‘æ¯æ—¶é•¿
}

interface WaterRecord {
  id: string;
  timestamp: Date;
  amount: number;                // æ¯«å‡
  note?: string;
}

interface StretchExercise {
  id: string;
  name: string;
  category: 'neck' | 'shoulder' | 'back' | 'leg';
  duration: number;              // ç§’
  description: string;
  imageUrl?: string;
  steps: string[];
  benefits: string[];
}
```

### æœåŠ¡å±‚

```typescript
// packages/application-client/src/health/services/RestReminderService.ts
export class RestReminderService {
  // æé†’æ§åˆ¶
  startReminders(): void;
  stopReminders(): void;
  pauseReminders(durationMinutes: number): void;
  skipNextReminder(type: ReminderType): void;
  
  // æé†’æŸ¥è¯¢
  getNextReminder(): RestReminder | null;
  getReminderStatus(type: ReminderType): ReminderStatus;
  getTodayRestRecords(): Promise<RestRecord[]>;
  
  // è®¾ç½®ç®¡ç†
  updateSettings(settings: Partial<ReminderSettings>): void;
  getSettings(): ReminderSettings;
  
  // é¥®æ°´è®°å½•
  recordWater(amount: number): Promise<void>;
  getTodayWaterIntake(): Promise<number>;
  getWaterProgress(): Promise<number>; // è¿”å›ç™¾åˆ†æ¯”
  
  // æ‹‰ä¼¸æŒ‡å¯¼
  getStretchExercises(category?: string): Promise<StretchExercise[]>;
  getRandomExercise(): Promise<StretchExercise>;
  
  // äº‹ä»¶
  onReminderTriggered: (reminder: RestReminder) => void;
  onReminderCompleted: (record: RestRecord) => void;
  onReminderSkipped: (reminder: RestReminder) => void;
}
```

### æ™ºèƒ½è°ƒåº¦ç®—æ³•

```typescript
// æ™ºèƒ½æé†’è°ƒåº¦
class SmartReminderScheduler {
  // æ£€æŸ¥æ˜¯å¦å¯ä»¥æé†’
  canTriggerReminder(type: ReminderType): boolean {
    // 1. æ£€æŸ¥å…æ‰“æ‰°æ—¶æ®µ
    if (this.isInDoNotDisturbPeriod()) return false;
    
    // 2. æ£€æŸ¥ç•ªèŒ„é’ŸçŠ¶æ€
    if (this.settings.pauseDuringPomodoro && this.isPomodoroActive()) {
      return false;
    }
    
    // 3. æ£€æŸ¥ç³»ç»ŸçŠ¶æ€ï¼ˆæ˜¯å¦é”å±/ç¡çœ ï¼‰
    if (this.isSystemInactive()) return false;
    
    // 4. æ£€æŸ¥æé†’ä¼˜å…ˆçº§å†²çª
    if (this.hasHigherPriorityReminder(type)) return false;
    
    return true;
  }
  
  // å»¶åæé†’
  delayReminder(reminder: RestReminder, delayMinutes: number): void {
    reminder.nextTriggerAt = new Date(Date.now() + delayMinutes * 60000);
  }
  
  // æ™ºèƒ½æ—¶æœºé€‰æ‹©ï¼ˆæœªæ¥æ‰©å±•ï¼‰
  findBestReminderTime(reminder: RestReminder): Date {
    // åˆ†æç”¨æˆ·å†å²è¡Œä¸ºï¼Œæ‰¾æœ€ä¸æ‰“æ‰°çš„æ—¶æœº
    // å¦‚ï¼šä»»åŠ¡åˆ‡æ¢é—´éš™ã€æ‰“å­—åœé¡¿æ—¶ç­‰
    return new Date();
  }
}
```

### UI ç»„ä»¶

#### æŠ¤çœ¼æé†’å¼¹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ğŸ‘€ æŠ¤çœ¼æ—¶é—´åˆ°                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚              çœ‹å‘ 6 ç±³å¤–çš„ç‰©ä½“ 20 ç§’                 â”‚
â”‚                                                      â”‚
â”‚                    å€’è®¡æ—¶: 18 ç§’                     â”‚
â”‚                   â”â”â”â”â”â”â”â”â”â”â”â”                       â”‚
â”‚                                                      â”‚
â”‚  ğŸ’¡ å»ºè®®ï¼šçœ‹å‘çª—å¤–çš„è¿œå¤„ç‰©ä½“ï¼Œè®©çœ¼éƒ¨è‚Œè‚‰æ”¾æ¾         â”‚
â”‚                                                      â”‚
â”‚            [ æˆ‘çŸ¥é“äº† ]  [ è·³è¿‡ ]                    â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ‹‰ä¼¸æé†’å¼¹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ§˜ è¯¥ç«™èµ·æ¥æ´»åŠ¨æ´»åŠ¨äº†                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚       å·²è¿ç»­å·¥ä½œ 60 åˆ†é’Ÿï¼Œå»ºè®®æ´»åŠ¨ 5 åˆ†é’Ÿ            â”‚
â”‚                                                      â”‚
â”‚  ä»Šæ—¥æ¨èï¼šé¢ˆéƒ¨æ‹‰ä¼¸                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚    [ç¤ºæ„å›¾]                              â”‚       â”‚
â”‚  â”‚  1. ç¼“æ…¢ä½å¤´ï¼Œä¸‹å·´é è¿‘èƒ¸éƒ¨ (10ç§’)         â”‚       â”‚
â”‚  â”‚  2. ç¼“æ…¢æŠ¬å¤´ï¼Œçœ¼ç›çœ‹å‘å¤©èŠ±æ¿ (10ç§’)       â”‚       â”‚
â”‚  â”‚  3. å¤´éƒ¨å‘å·¦è½¬ï¼Œä¿æŒ 10 ç§’               â”‚       â”‚
â”‚  â”‚  4. å¤´éƒ¨å‘å³è½¬ï¼Œä¿æŒ 10 ç§’               â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                      â”‚
â”‚    [ å¼€å§‹æ‹‰ä¼¸ ]  [ æ¢ä¸€ä¸ª ]  [ ç¨åæé†’ ]           â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é¥®æ°´æé†’

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ğŸ’§ è¯¥å–æ°´äº†                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚         è·ä¸Šæ¬¡é¥®æ°´å·²è¿‡ 30 åˆ†é’Ÿ                       â”‚
â”‚         å»ºè®®è¡¥å…… 200ml æ°´åˆ†                          â”‚
â”‚                                                      â”‚
â”‚  ä»Šæ—¥é¥®æ°´è¿›åº¦ï¼š  1400ml / 2000ml  (70%)              â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”       â”‚
â”‚                                                      â”‚
â”‚           [ å·²å– 200ml ]  [ è‡ªå®šä¹‰ ]                 â”‚
â”‚                                                      â”‚
â”‚                   [ ç¨åæé†’ ]                       â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è®¾ç½®é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              âš™ï¸ ä¼‘æ¯æé†’è®¾ç½®                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  [ âœ“ ] å¯ç”¨æ‰€æœ‰æé†’                                  â”‚
â”‚                                                      â”‚
â”‚  ğŸ‘€ æŠ¤çœ¼æé†’ (20-20-20)                              â”‚
â”‚  [ âœ“ ] å¯ç”¨    æ¯ [20] åˆ†é’Ÿæé†’ï¼Œä¼‘æ¯ [20] ç§’        â”‚
â”‚                                                      â”‚
â”‚  ğŸ§˜ ç«™ç«‹/æ‹‰ä¼¸æé†’                                     â”‚
â”‚  [ âœ“ ] å¯ç”¨    æ¯ [60] åˆ†é’Ÿæé†’ï¼Œæ´»åŠ¨ [5] åˆ†é’Ÿ       â”‚
â”‚  å¼ºåº¦: ( ) æ¸©å’Œ  (â—) æ ‡å‡†  ( ) ä¸¥æ ¼                  â”‚
â”‚                                                      â”‚
â”‚  ğŸ’§ é¥®æ°´æé†’                                          â”‚
â”‚  [ âœ“ ] å¯ç”¨    æ¯ [30] åˆ†é’Ÿæé†’ï¼Œæ¯æ¬¡ [200] ml       â”‚
â”‚  æ¯æ—¥ç›®æ ‡: [2000] ml                                 â”‚
â”‚                                                      â”‚
â”‚  ğŸ”• æ™ºèƒ½è®¾ç½®                                          â”‚
â”‚  [ âœ“ ] ç•ªèŒ„é’Ÿè¿›è¡Œä¸­æš‚åœæé†’                          â”‚
â”‚  [ âœ“ ] å¯ç”¨å£°éŸ³æé†’                                  â”‚
â”‚  æé†’æ–¹å¼: (â—) ç³»ç»Ÿé€šçŸ¥  ( ) åº”ç”¨å†…  ( ) ä¸¤è€…        â”‚
â”‚                                                      â”‚
â”‚  â° å…æ‰“æ‰°æ—¶æ®µ                                        â”‚
â”‚  [ âœ“ ] 12:00 - 13:00 (åˆä¼‘)                          â”‚
â”‚  [   ] è‡ªå®šä¹‰...                                     â”‚
â”‚                                                      â”‚
â”‚  ğŸ“Š ä»Šæ—¥ç»Ÿè®¡                                          â”‚
â”‚  æŠ¤çœ¼ä¼‘æ¯: 8 æ¬¡ | æ‹‰ä¼¸æ´»åŠ¨: 3 æ¬¡ | é¥®æ°´: 7 æ¬¡        â”‚
â”‚                                                      â”‚
â”‚             [ ä¿å­˜è®¾ç½® ]  [ æ¢å¤é»˜è®¤ ]               â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç³»ç»Ÿé€šçŸ¥é›†æˆ

```typescript
// apps/desktop/src/main/services/RestReminderMainService.ts
export class RestReminderMainService {
  // æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥
  showNotification(reminder: RestReminder): void {
    const notification = new Notification({
      title: this.getReminderTitle(reminder.type),
      body: this.getReminderBody(reminder),
      icon: this.getReminderIcon(reminder.type),
      silent: !this.settings.soundEnabled,
      actions: [
        { type: 'button', text: 'å®Œæˆ' },
        { type: 'button', text: 'è·³è¿‡' },
      ],
    });
    
    notification.show();
  }
  
  // ç›‘å¬ç³»ç»ŸçŠ¶æ€
  watchSystemStatus(): void {
    // æ£€æµ‹é”å±/ç¡çœ ï¼Œæš‚åœæé†’
    powerMonitor.on('suspend', () => this.pauseReminders());
    powerMonitor.on('resume', () => this.resumeReminders());
  }
}
```

---

## ğŸ“ æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢æ–‡ä»¶

```
packages/domain-client/src/health/
  â”œâ”€â”€ aggregates/RestReminder.ts
  â”œâ”€â”€ aggregates/RestRecord.ts
  â”œâ”€â”€ aggregates/WaterRecord.ts
  â”œâ”€â”€ value-objects/ReminderSettings.ts
  â”œâ”€â”€ value-objects/StretchExercise.ts
  â””â”€â”€ constants/ExerciseLibrary.ts

packages/application-client/src/health/
  â”œâ”€â”€ services/RestReminderService.ts
  â”œâ”€â”€ services/WaterTrackingService.ts
  â””â”€â”€ utils/SmartReminderScheduler.ts

packages/infrastructure-client/src/repositories/
  â”œâ”€â”€ RestRecordRepository.ts
  â””â”€â”€ WaterRecordRepository.ts

apps/desktop/src/main/services/
  â””â”€â”€ RestReminderMainService.ts

apps/desktop/src/renderer/components/health/
  â”œâ”€â”€ EyeCareReminderModal.tsx
  â”œâ”€â”€ StretchReminderModal.tsx
  â”œâ”€â”€ WaterReminderModal.tsx
  â”œâ”€â”€ ExerciseGuide.tsx
  â”œâ”€â”€ WaterProgressBar.tsx
  â”œâ”€â”€ ReminderSettings.tsx
  â””â”€â”€ TodayRestStats.tsx

apps/desktop/src/renderer/hooks/
  â”œâ”€â”€ useRestReminders.ts
  â””â”€â”€ useWaterTracking.ts

apps/desktop/src/renderer/assets/exercises/
  â””â”€â”€ (æ‹‰ä¼¸åŠ¨ä½œç¤ºæ„å›¾)
```

### ä¿®æ”¹æ–‡ä»¶

```
apps/desktop/src/main/main.ts
  â””â”€â”€ åˆå§‹åŒ– RestReminderMainService

apps/desktop/src/preload/preload.ts
  â””â”€â”€ æ·»åŠ  health:* é€šé“ç™½åå•

apps/desktop/src/renderer/components/Layout.tsx
  â””â”€â”€ æ·»åŠ å¿«æ·å…¥å£ï¼šå¿«é€Ÿè®°å½•é¥®æ°´

packages/application-client/src/focus/services/PomodoroService.ts
  â””â”€â”€ é›†æˆæé†’æš‚åœé€»è¾‘
```

---

## ğŸ§ª æµ‹è¯•è¦ç‚¹

### å•å…ƒæµ‹è¯•

- æé†’é—´éš”è®¡ç®—
- å…æ‰“æ‰°æ—¶æ®µåˆ¤æ–­
- æ™ºèƒ½è°ƒåº¦é€»è¾‘
- é¥®æ°´è¿›åº¦è®¡ç®—

### é›†æˆæµ‹è¯•

- ç•ªèŒ„é’Ÿè¿›è¡Œä¸­å»¶åæé†’
- ç³»ç»Ÿé”å±æš‚åœè®¡æ—¶
- å¤šç§æé†’ä¼˜å…ˆçº§å¤„ç†
- è·¨æ—¥æœŸç»Ÿè®¡é‡ç½®

### E2E æµ‹è¯•

- å®Œæ•´æé†’æµç¨‹
- è·³è¿‡/å»¶åæé†’
- è®°å½•é¥®æ°´æŸ¥çœ‹è¿›åº¦
- ä¿®æ”¹è®¾ç½®ç”Ÿæ•ˆ

### ç”¨æˆ·ä½“éªŒæµ‹è¯•

- æé†’ä¸æ‰“æ–­å…³é”®æ“ä½œ
- é€šçŸ¥æ ·å¼æ¸…æ™°æ˜“æ‡‚
- æ‹‰ä¼¸æŒ‡å¯¼æ˜“äºè·Ÿéš

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç”¨æˆ·ä½“éªŒç¬¬ä¸€**ï¼šæé†’è¦æ¸©å’Œï¼Œä¸èƒ½è¿‡äºæ‰“æ‰°å·¥ä½œ
2. **æ™ºèƒ½æš‚åœ**ï¼šç•ªèŒ„é’Ÿã€ä¼šè®®ã€æ¼”ç¤ºæ—¶è‡ªåŠ¨å»¶åæé†’
3. **å¥åº·ç§‘å­¦æ€§**ï¼š20-20-20 è§„åˆ™ã€æ‹‰ä¼¸åŠ¨ä½œè¦æœ‰ç§‘å­¦ä¾æ®
4. **éšç§ä¿æŠ¤**ï¼šå¥åº·æ•°æ®ä»…æœ¬åœ°å­˜å‚¨
5. **æ€§èƒ½ä¼˜åŒ–**ï¼šå®šæ—¶å™¨è¦å‡†ç¡®ä½†ä¸å ç”¨è¿‡å¤šèµ„æº
6. **æ— éšœç¢**ï¼šæé†’è¦æ”¯æŒå±å¹•é˜…è¯»å™¨
7. **åŠ¨ä½œå®‰å…¨**ï¼šæ‹‰ä¼¸æŒ‡å¯¼è¦å¼ºè°ƒç¼“æ…¢è¿›è¡Œï¼Œé¿å…å—ä¼¤
8. **ä¸ªæ€§åŒ–**ï¼šä¸åŒç”¨æˆ·ä¹ æƒ¯å·®å¼‚å¤§ï¼Œè¦é«˜åº¦å¯å®šåˆ¶

---

## ğŸš€ æœªæ¥æ‰©å±•

1. **AI å¥åº·å»ºè®®**ï¼šæ ¹æ®å·¥ä½œå¼ºåº¦æ™ºèƒ½è°ƒæ•´æé†’é¢‘ç‡
2. **å¥åº·æ•°æ®åˆ†æ**ï¼šé•¿æœŸè¿½è¸ªç”¨æˆ·ä¼‘æ¯ä¹ æƒ¯ï¼Œç»™å‡ºæ”¹è¿›å»ºè®®
3. **å¯ç©¿æˆ´è®¾å¤‡é›†æˆ**ï¼šä¸æ™ºèƒ½æ‰‹è¡¨åŒæ­¥ï¼Œæ›´å‡†ç¡®çš„æ´»åŠ¨æ£€æµ‹
4. **ç¤¾äº¤æ¿€åŠ±**ï¼šä¸å¥½å‹PKæ¯æ—¥é¥®æ°´é‡ã€æ‹‰ä¼¸æ¬¡æ•°
5. **è§†é¢‘æŒ‡å¯¼**ï¼šæä¾›æ›´è¯¦ç»†çš„æ‹‰ä¼¸åŠ¨ä½œè§†é¢‘æ•™ç¨‹
6. **å¥åº·æŠ¥å‘Š**ï¼šæ¯å‘¨/æœˆç”Ÿæˆå¥åº·ä¹ æƒ¯æŠ¥å‘Š
